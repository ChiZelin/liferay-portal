@component-name = "portal-server-administration"
definition {

	property portal.release = "true";
	property portal.upstream = "true";
	property testray.main.component.name = "Server Administration";

	setUp {
		User.firstLoginPG();
	}

	@description = "This is a use case for LPS-111757"
	@priority = "4"
	test ViewGlobalLibDirectory {
		property environment.acceptance = "true";

		ServerAdministration.openServerAdmin();

		var script = '''
			import com.liferay.portal.kernel.util.PortalUtil;
			import java.nio.file.Paths;

			out.println(Paths.get(PortalUtil.getGlobalLibDir()));
		''';

		ServerAdministration.executeScript(
			language = "Groovy",
			script = "${script}");

		var globalLibDir = PropsUtil.get("liferay.app.server.global.lib.dir");

		AssertTextEquals(
			locator1 = "ServerAdministrationScript#OUTPUT_FIELD",
			value1 = "${globalLibDir}");
	}

	@description = "This is a use case for LPS-102790"
	@priority = "4"
	test ViewSystemAndPortalProperties {
		ProductMenu.gotoPortlet(
			category = "Configuration",
			panel = "Control Panel",
			portlet = "Server Administration");

		ServerAdministration.viewProperties(
			propertyName = "catalina.home",
			propertyTitle = "System Properties");

		Pagination.changePagination(itemsPerPage = "20");

		ServerAdministration.viewProperties(
			propertyName = "admin.email.from.name",
			propertyTitle = "Portal Properties");

		Pagination.changePagination(itemsPerPage = "20");
	}

}